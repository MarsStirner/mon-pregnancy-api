{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"title": "concilium",
	"description": "Консилиум",
	"type": "object",
	"properties": {
		"date": {
			"description": "Дата осмотра",
			"type": "string",
			"format": "date"
		},
		"hospital": {
			"description": "ЛПУ осмотра (код)",
			"type": "string"
		},
		"doctor": {
			"description": "Врач (код)",
			"type": "string"
		},
		"doctors": {
			"description": "Состав консилиума (коды врачей)",
			"type": "array",
			"items": {
				"type": "string"
			},
			"minItems": 2
		},
		"patient_presence": {
			"description": "Присутствие пациента на консилиуме",
			"type": "boolean"
		},
		"diagnosis": {
			"description": "Основной диагноз, код диагноза по МКБ-10",
			"type": "string",
			"pattern": "^([A-Z][0-9][0-9])(\\.([0-9]{1,2})(\\.[0-9]+)?)?$"
		},
		"reason": {
			"description": "Причина проведения консилиума",
			"type": "string"
		},
		"patient_condition": {
			"description": "Состояние пациента",
			"type": "string"
		},
		"decision": {
			"description": "Заключение консилиума",
			"type": "string"
		},
		"opinions":{
			"description": "Особое мнение участника консилиума (с указанием Ф.И.О. врача)",
			"type": "array",
			"items": {
				"type": "object",
				"properties": {
					"doctor":{
						"description": "Врач",
						"type": "string"
					},
					"opinion":{
						"description": "Мнение врача",
						"type": "string"
					}
				},
				"required": ["doctor", "opinion"]
			},
			"minItems": 0
		}
	},
	"required": ["date", "hospital", "doctor", "doctors", "diagnosis", "reason", "decision"]
}